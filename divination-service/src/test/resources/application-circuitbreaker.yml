spring:
  cloud:
    openfeign:
      circuitbreaker:
        enabled: true

resilience4j:
  circuitbreaker:
    configs:
      default:
        slidingWindowSize: 4
        minimumNumberOfCalls: 2
        waitDurationInOpenState: 1s
        permittedNumberOfCallsInHalfOpenState: 1
        failureRateThreshold: 50
        registerHealthIndicator: false
    instances:
      user-service:
        baseConfig: default
      tarot-service:
        baseConfig: default
  retry:
    configs:
      default:
        maxAttempts: 1
        waitDuration: 100ms
    instances:
      user-service:
        baseConfig: default
      tarot-service:
        baseConfig: default
  timelimiter:
    configs:
      default:
        timeoutDuration: 5s
    instances:
      user-service:
        baseConfig: default
      tarot-service:
        baseConfig: default
